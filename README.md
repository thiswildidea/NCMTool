# 网络配置管理工具

## 功能介绍

这是一个使用PyQt6开发的网络配置管理工具，用于快速切换和管理网络配置。支持Windows、macOS和Linux主流操作系统。

### 主要功能
- 加载并解析配置文件，展示部门和用户的网络配置信息
- 树形结构展示配置列表，支持节点点击交互
- 实时更新右侧配置面板，显示选中节点的配置值
- 自动获取本地可用网卡信息
- 一键应用网络配置，包括IP地址、子网掩码、网关、DNS和MAC地址
- 支持跨平台网络配置修改
- 具备错误处理机制和操作结果反馈

## 安装指南

### 1. 安装依赖

使用pip安装所需依赖：

```bash
pip install -r requirements.txt
```

### 2. 运行程序

直接运行主脚本：

```bash
python network_config_tool.py
```

### 3. 打包应用（可选）

使用提供的打包脚本将应用打包成可执行文件：

```bash
python build.py
```

打包完成后，可执行文件将位于 `dist` 目录中。

## 使用方法

### 1. 配置文件格式

工具使用 `config.json` 文件存储网络配置信息，格式如下：

```json
[
  {
    "department": "部门名称",
    "users": [
      {
        "name": "用户名",
        "ip": "IP地址",
        "netmask": "子网掩码",
        "gateway": "网关",
        "dns": "DNS服务器",
        "mac": "MAC地址"
      }
    ]
  }
]
```

### 2. 操作步骤

1. **启动程序**：运行 `network_config_tool.py` 或打包后的可执行文件
2. **选择配置**：在左侧树形结构中点击用户节点，右侧面板将显示对应配置
3. **选择网卡**：在右侧面板下方的下拉框中选择要配置的网卡
4. **确认配置**：检查右侧面板中的配置信息是否正确
5. **应用配置**：点击底部的"确定"按钮，在弹出的确认对话框中点击"确定"
6. **查看结果**：等待操作完成，查看操作结果提示

### 3. 注意事项

- **权限要求**：修改网络配置需要管理员/root权限
- **Windows**：可能需要以管理员身份运行程序
- **macOS/Linux**：可能需要输入密码获取权限
- **MAC地址修改**：部分设备可能不支持修改MAC地址
- **配置生效**：修改网络配置后，可能需要重启网络服务或重启计算机才能完全生效

## 常见问题解答

### Q: 无法获取网卡信息怎么办？
A: 检查是否安装了正确的依赖包，Windows需要安装 `wmi`，其他系统需要安装 `netifaces`。

### Q: 配置修改失败怎么办？
A: 检查是否有足够的权限，是否选择了正确的网卡，配置值是否有效。

### Q: 打包应用失败怎么办？
A: 确保已安装所有依赖，包括 `PyInstaller`，并以管理员/root权限运行打包脚本。

### Q: 程序在我的操作系统上不工作怎么办？
A: 该工具支持Windows、macOS和Linux主流操作系统，如果遇到问题，请检查系统版本和依赖安装情况。

## 技术说明

- **开发语言**：Python 3
- **GUI库**：PyQt6
- **跨平台支持**：使用不同的系统命令实现网络配置修改
- **错误处理**：具备完善的异常捕获和错误处理机制
- **用户体验**：提供直观的界面和操作反馈

## 联系方式

如有问题或建议，请联系开发者。